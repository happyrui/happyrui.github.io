---
title: 'JavaScript基础之回流重绘,正则'
date: 2019-10-12 11:10:33
tags: 
- JavaScript
categories: 
- web前端
- JS基础
---

## 回流与重绘

+ DOM回流(重排)：DOM树渲染完毕以后，只要页面中的HTML结构发生变化（增加删除元素、位置发生变化），浏览器都要重新计算一遍最新的DOM结构，重新对当前页面进行渲染；(reflow)
+ DOM重绘：DOM树位置不发生变化，如元素的颜色背景发生变化，会只针对这个元素渲染，不渲染整个页面(repaint)
+ DOM映射：页面中的标签和Js中获取到的元素对象（元素集合）是紧紧绑定在一起的，页面中HTML结构改变了，Js不需要重新获取，集合里面的内容也会跟着自动改变
<!-- more -->  
减少回流和重绘

+ 不要一条一条地修改 DOM 的样式。与其这样，还不如预先定义好 css 的 class，然后修改 DOM 的 className。 
+ 不要把 DOM 结点的属性值放在一个循环里当成循环里的变量。 
+ 为动画的 HTML 元件使用 fixed 或 absoult 的 position，那么修改他们的 CSS 是不会 reflow 的。 
+ 千万不要使用 table 布局。因为可能很小的一个小改动会 造成整个 table 的重新布局。


## setTimeout与setInterval

setTimeout和setInterval的语法相同。它们都有两个参数，一个是将要执行的代码字符串，还有一个是以毫秒为单位的时间间隔，当过了那个时间段之后就将执行那段代码。

不过这两个函数还是有区别的，

+ setInterval在执行完一次代码之后，经过了那个固定的时间间隔，它还会自动重复执行代码，
+ setTimeout只执行一次那段代码。

区别：

+ window.setTimeout("function",time)；//设置一个超时对象，只执行一次,无周期 
+ window.setInterval("function",time)；//设置一个超时对象，周期＝'交互时间'

停止定时： 

+ window.clearTimeout(对象) 清除已设置的setTimeout对象
+ window.clearInterval(对象) 清除已设置的setInterval对象


## 正则

+ 正整数   `/^[0-9]*[1-9][0-9]*$/`; 
+ 负整数   `/^-[0-9]*[1-9][0-9]*$/`; 
+ 正浮点数 `/^(([0-9]+\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\.[0-9]+)|([0-9]*[1-9][0-9]*))$/`; 
+ 负浮点数 `/^(-(([0-9]+\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\.[0-9]+)|([0-9]*[1-9][0-9]*)))$/`; 
+ 浮点数 `/^(-?\d+)(\.\d+)?$/`; 
+ email地址 `/^[\w-]+(\.[\w-]+)*@[\w-]+(\.[\w-]+)+$/;` 
+ url地址 `/^[a-zA-z]+://(\w+(-\w+)*)(\.(\w+(-\w+)*))*(\?\S*)?$/`;
+ 年/月/日（年-月-日、年.月.日） `/^(19|20)\d\d[- /.](0[1-9]|1[012])[- /.](0[1-9]|[12][0-9]|3[01])$/`; 
+ 匹配中文字符` /[\u4e00-\u9fa5]/`; 
+ 匹配帐号是否合法(字母开头，允许5-10字节，允许字母数字下划线) `/^[a-zA-Z][a-zA-Z0-9_]{4,9}$/`; 
+ `匹配空白行的正则表达式 `/\n\s*\r/`;
+ 匹配中国邮政编码` /[1-9]\d{5}(?!\d)/`; 
+ 匹配身份证` /\d{15}|\d{18}/`; 
+ 匹配国内电话号码` /(\d{3}-|\d{4}-)?(\d{8}|\d{7})?/`; 
+ 匹配IP地址 `/((2[0-4]\d|25[0-5]|[01]?\d\d?)\.){3}(2[0-4]\d|25[0-5]|[01]?\d\d?)/`; 
+ 匹配首尾空白字符的正则表达式 `/^\s*|\s*$/`; 
+ 匹配HTML标记的正则表达式 `< (\S*?)[^>]*>.*?|< .*? />`; 
+ 匹配中文字符的正则表达式： `[\u4e00-\u9fa5]`
+ 匹配双字节字符（包括汉字在内）：`[^\x00-\xff] `
+ 匹配空行的正则表达式：`\n[\s| ]*\r `
+ 匹配 HTML 标记的正则表达式：`<(.*)>.*<\/\1>|<(.*) \/> `
+ 匹配首尾空格的正则表达式：`(^\s*)|(\s*$) `
+ 匹配 IP 地址的正则表达式：`/(\d+)\.(\d+)\.(\d+)\.(\d+)/g` 
+ 匹配 Email 地址的正则表达式：`\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*` 
+ 匹配网址 URL 的正则表达式：`http://(/[\w-]+\.)+[\w-]+(/[\w- ./?%&=]*)? `
+ sql 语句：`^(select|drop|delete|create|update|insert).*$ `
+ 非负整数：`^\d+$` 
+ 正整数：`^[0-9]*[1-9][0-9]*$ `
+ 非正整数：`^((-\d+)|(0+))$` 
+ 负整数：`^-[0-9]*[1-9][0-9]*$ `
+ 整数：`^-?\d+$ `
+ 非负浮点数：`^\d+(\.\d+)?$` 
+ 正浮点数：`^((0-9)+\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\.[0-9]+)|([0-9]*[1-9][0-9]*))$ `
+ 非正浮点数：`^((-\d+\.\d+)?)|(0+(\.0+)?))$ `
+ 英文字符串：`^[A-Za-z]+$ `
+ 英文大写串：`^[A-Z]+$ `
+ 英文小写串：`^[a-z]+$ `
+ 英文字符数字串：`^[A-Za-z0-9]+$ `
+ 英数字加下划线串：`^\w+$` 
+ E-mail地址：`^[\w-]+(\.[\w-]+)*@[\w-]+(\.[\w-]+)+$ URL：^[a-zA-Z]+://(\w+(-\w+)*)(\.(\w+(-\w+)*))*(\?\s*)?$` 或：^http:\/\/[A-Za-z0-9]+\.[A-Za-z0-9]+[\/=\?%\-&_~`@[\]\':+!]*([^<>\"\"])*$ 
+ 邮政编码：`^[1-9]\d{5}$ `
+ 电话号码：`^((\(\d{2,3}\))|(\d{3}\-))?(\(0\d{2,3}\)|0\d{2,3}-)?[1-9]\d{6,7}(\-\d{1,4})?$ `
+ 手机号码：`^((\(\d{2,3}\))|(\d{3}\-))?13\d{9}$ `
+ 双字节字符（包括汉字在内）`：^\x00-\xff`
+ 匹配首尾空格：`(^\s*)|(\s*$) `
+ 匹配 HTML 标记：`<(.*)>.*<\/\1>|<(.*) \/> `
+ 匹配空行：`\n[\s| ]*\r `
+ 提取信息中的网络链接：`(h|H)(r|R)(e|E)(f|F) *= *('|")?(\w|\\|\/|\.)+('|"| *|>)? `
+ 提取信息中的邮件地址：`\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)* `
+ 提取信息中的图片链接：`(s|S)(r|R)(c|C) *= *('|")?(\w|\\|\/|\.)+('|"| *|>)? `
+ 提取信息中的 IP 地址：`(\d+)\.(\d+)\.(\d+)\.(\d+) `
+ 提取信息中的中国手机号码：`(86)*0*13\d{9}` 
+ 提取信息中的中国固定电话号码：`(\(\d{3,4}\)|\d{3,4}-|\s)?\d{8} `
+ 提取信息中的中国电话号码（包括移动和固定电话）：`(\(\d{3,4}\)|\d{3,4}-|\s)?\d{7,14} `
+ 提取信息中的中国邮政编码：`[1-9]{1}(\d+){5} `
+ 提取信息中的浮点数（即小数）：`(-?\d*)\.?\d+ `
+ 提取信息中的任何数字 ：`(-?\d*)(\.\d+)? IP：(\d+)\.(\d+)\.(\d+)\.(\d+) `
+ 电话区号：`^0\d{2,3}$ `
+ 腾讯 QQ 号：`^[1-9]*[1-9][0-9]*$ `
+ 帐号（字母开头，允许 5-16 字节，允许字母数字下划线）：`^[a-zA-Z][a-zA-Z0-9_]{4,15}$ `
+ 中文、英文、数字及下划线：`^[\u4e00-\u9fa5_a-zA-Z0-9]+$+ `